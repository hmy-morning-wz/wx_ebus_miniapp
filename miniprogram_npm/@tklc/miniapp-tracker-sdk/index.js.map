{"version":3,"sources":["index.js","tracker/index.js","utils/common.js","global.js","utils/unify.js","utils/alipay.js","tracker/mtr.js","config.js","tracker/miniapp.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;;ACDA;AACA;AACA;AACA,ACHA;ADIA,ACHA;ADIA,ACHA;ACFA,AFMA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA,AENA;AHUA,ACHA,AENA;AHUA,ACHA,AENA;AHUA,AIZA,AHSA,AENA;AHUA,AIZA,AHSA,AENA;AHUA,AIZA,AHSA,AENA;AHUA,AKfA,ADGA,AHSA,AENA;AHUA,AKfA,ADGA,AHSA,AENA;AHUA,AKfA,ADGA,AHSA,AENA;AGRA,ANkBA,AKfA,ADGA,AHSA,AENA;AGRA,ANkBA,AKfA,ADGA,AHSA,AENA;AGRA,ANkBA,AKfA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA,AENA;AGRA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA,AHSA;AKdA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AELA,ANkBA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AJaA,AOrBA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;AGRA,AFMA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["var __TEMP__ = require('./tracker/index');var Tracker = __REQUIRE_DEFAULT__(__TEMP__);\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.default = Tracker;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar __TEMP__ = require('../utils/common');var logInfo = __TEMP__['logInfo'];\nvar __TEMP__ = require('../utils/unify');var unify = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('../utils/alipay');var getBasicInfo = __TEMP__['getBasicInfo'];\nvar __TEMP__ = require('./mtr');var MTR = __TEMP__['MTR'];\nvar __TEMP__ = require('../config');var CONFIG = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./miniapp');var Hook = __TEMP__['Hook'];var TrackerPage = __TEMP__['TrackerPage'];var TrackerComponent = __TEMP__['TrackerComponent'];var TrackerApp = __TEMP__['TrackerApp'];\n\nvar TrackerClass = function () {\n    function TrackerClass(data) {\n        _classCallCheck(this, TrackerClass);\n\n        this.data = data;\n        this.Mtr = data.Mtr;\n        this.App = data.App;\n        this.Page = data.Page;\n        this.Component = data.Component;\n    }\n\n    _createClass(TrackerClass, [{\n        key: \"log\",\n        value: function log(seed, p) {\n            return this.Mtr.log(seed, p);\n        }\n    }, {\n        key: \"err\",\n        value: function err(r, seed, p) {\n            return this.Mtr.err(r, seed, p);\n        }\n    }, {\n        key: \"click\",\n        value: function click(seed, param) {\n            return this.Mtr.click(null, seed, param);\n        }\n    }, {\n        key: \"calc\",\n        value: function calc(seed, n, p4) {\n            return this.Mtr.calc(null, seed, n, p4);\n        }\n    }, {\n        key: \"expo\",\n        value: function expo(seed, dir, param) {\n            return this.Mtr.expo(null, seed, dir, param);\n        }\n    }, {\n        key: \"setUserId\",\n        value: function setUserId(userId) {\n            this.Mtr.setUserId(userId);\n        }\n    }, {\n        key: \"getUserId\",\n        value: function getUserId() {\n            return this.Mtr.getUserId();\n        }\n    }, {\n        key: \"api\",\n        value: function api(data) {\n            return this.Mtr.api(data);\n        }\n    }, {\n        key: \"setData\",\n        value: function setData(key, value) {\n            return this.Mtr.setData(key, value);\n        }\n    }]);\n\n    return TrackerClass;\n}();\n\nfunction initMtr() {\n    var Mtr = new MTR(CONFIG);\n    Mtr.startTime = +Date.now();\n    if (Mtr.stat_sw) {\n        // true = on \n        getBasicInfo(function (baseInfo) {\n            _extends(Mtr, baseInfo);\n            Mtr.baseInfo = baseInfo;\n            Mtr.start();\n            Mtr.mtrDebug && logInfo(\"App init start\");\n        });\n        if (CONFIG.my) {\n            if (unify.isIDE) {\n                Mtr.workspaceId = \"develop\";\n            } else {\n                unify.canIUse(\"getRunScene\") && unify.getRunScene({\n                    success: function success(res) {\n                        Mtr.mtrDebug && logInfo(\"getRunScene\", res);\n                        if (res.envVersion === \"release\" || res.envVersion === \"gray\") {\n                            Mtr.mtrDebug = false;\n                        } else {\n                            Mtr.workspaceId = res.envVersion;\n                        }\n                    }\n                });\n            }\n        }\n    }\n    var tracker = {\n        Mtr: Mtr,\n        App: new TrackerApp(Mtr),\n        Page: new TrackerPage(Mtr),\n        Component: new TrackerComponent(Mtr)\n    };\n    return new TrackerClass(tracker);\n}\nvar Tracker = initMtr();\n(function () {\n    var _APP = App,\n        _Page = Page,\n        _Component = Component;\n    //Nn = {};\n    App = function App(app) {\n        var Mtr = Tracker.Mtr;\n        _extends(Mtr, app.mtrConfig || {\n            appId: unify.canIUse(\"getAppIdSync\") && unify.getAppIdSync && unify.getAppIdSync().appId,\n            server: [\"https://webtrack.allcitygo.com:8088/event/upload\"],\n            appName: \"未配置\",\n            mtrDebug: false\n        });\n        Hook(app, \"onLaunch\", Tracker.App.onLaunch());\n        Hook(app, \"onShow\", Tracker.App.onShow());\n        Hook(app, \"onHide\", Tracker.App.onHide());\n        Mtr.stat_auto_apperr && Hook(app, \"onError\", Tracker.App.onError());\n        app.Tracker = Tracker;\n        return _APP(app);\n    };\n    Page = function Page(page) {\n        var Mtr = Tracker.Mtr;\n        if (!('onTap' in page)) {\n            page.onTap = function () {};\n        }\n        if (!('onAppear' in page)) {\n            page.onAppear = function () {};\n        }\n        if (!('onNopAppear' in page)) {\n            page.onNopAppear = function () {};\n        }\n        Hook(page, \"onLoad\", Tracker.Page.onLoad());\n        Hook(page, \"onShow\", Tracker.Page.onShow());\n        Hook(page, \"onHide\", Tracker.Page.onHide());\n        Hook(page, \"onUnload\", Tracker.Page.onUnload());\n        if (Mtr.stat_reach_bottom) {\n            Hook(page, \"onReachBottom\", Tracker.Page.onReachBottom());\n        }\n        if (Mtr.stat_pull_down_fresh) {\n            Hook(page, \"onPullDownRefresh\", Tracker.Page.onPullDownRefresh());\n        }\n        if (Mtr.stat_page_scroll) {\n            Hook(page, \"onPageScroll\", Tracker.Page.onPageScroll());\n        }\n        if (Mtr.stat_auto_click) {\n            Tracker.Page._hook(page);\n        }\n        page.$mtr_click = function (seed, param) {\n            Mtr.click(page.route, seed, param);\n        };\n        page.$mtr_expo = function (seed, dir, param) {\n            Mtr.expo(page.route, seed, dir, param);\n        };\n        page.$mtr_calc = function (r, n, p4) {\n            Mtr.calc(page.route, r, n, p4);\n        };\n        return _Page(page);\n    };\n    Component = function Component(component) {\n        if (component.methods) {\n            if (!('onNopTap' in component.methods)) {\n                component.methods.onNopTap = function () {};\n            }\n            if (!('onNopAppear' in component.methods)) {\n                component.methods.onNopAppear = function () {};\n            }\n        }\n        Tracker.Component._hook(component);\n        var Mtr = Tracker.Mtr;\n        component.$mtr_click = function (seed, param) {\n            Mtr.click(null, seed, param);\n        };\n        component.$mtr_expo = function (seed, dir, param) {\n            Mtr.expo(null, seed, dir, param);\n        };\n        component.$mtr_calc = function (r, n, p4) {\n            Mtr.calc(null, r, n, p4);\n        };\n        return _Component(component);\n    };\n})();\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.default = Tracker;","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar __TEMP__ = require('../global');\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var getPagePath = exports.getPagePath = function getPagePath() {\n    try {\n        // var a = getCurrentPages()\n        var a = getCurrentPages().pop();\n        return a && a.route;\n    } catch (c) {\n        console.warn('Tracker get current page path error:' + c);\n    }\n};\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var getMainInfo = exports.getMainInfo = function getMainInfo() {\n    var a = { url: getPagePath() };\n    //console.log(a)\n    return a;\n};\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var dateFormat = exports.dateFormat = function dateFormat(t) {\n    var format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'yyyy-MM-dd hh:mm:ss.S';\n\n    var fmt = format; //|| 'yyyy-MM-dd hh:mm:ss.S'\n    if ((typeof t === 'undefined' ? 'undefined' : _typeof(t)) !== 'object') {\n        t = new Date(t);\n    }\n    var o = {\n        'M+': t.getMonth() + 1,\n        'd+': t.getDate(),\n        'h+': t.getHours(),\n        'm+': t.getMinutes(),\n        's+': t.getSeconds(),\n        'q+': Math.floor((t.getMonth() + 3) / 3),\n        S: t.getMilliseconds() //毫秒\n    };\n    if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (t.getFullYear() + '').substr(4 - RegExp.$1.length));\n    for (var k in o) {\n        if (new RegExp('(' + k + ')').test(fmt)) fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length));\n    }return fmt;\n};\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var dealExtra = exports.dealExtra = function dealExtra(param) {\n    if (!param) return {};\n    var prefix = \"mtr-\";\n    var out = {};\n    for (var n in param) {\n        if (param[n] != undefined) {\n            var a = 0 === n.indexOf(prefix) ? n : prefix + n;\n            out[a] = param[n];\n        }\n    }return out;\n};\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var extend = exports.extend = function extend(e, t) {\n    for (var r in t) {\n        void 0 !== t[r] && (e[r] = t[r]);\n    }return e;\n};\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var _encodeStr = exports._encodeStr = function _encodeStr(e) {\n    return 'string' == typeof e ? e.replace(/=|,|\\^|\\$\\$/g, function (e) {\n        switch (e) {\n            case ',':\n                return '%2C';\n            case '^':\n                return '%5E';\n            case '$$':\n                return '%24%24';\n            case '=':\n                return '%3D';\n            default:\n                return ' ';\n        }\n    }) : e;\n};\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var _formatExinfoParam = exports._formatExinfoParam = function _formatExinfoParam(e) {\n    var t = [];\n    for (var r in e) {\n        if (e.hasOwnProperty(r)) {\n            var msg = \"\" + e[r];\n            if ('[object Object]' === msg) {\n                msg = JSON.stringify(e[r]);\n                if (msg.length >= 1024) {\n                    msg = msg.substring(0, 1024);\n                }\n            }\n            t.push(r + '=' + _encodeStr(msg));\n        }\n    }\n    return t.join('^');\n};\nvar TAG = 'Tracker';\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.logger = function logger(tag) {\n    var _console;\n\n    for (var _len = arguments.length, payload = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        payload[_key - 1] = arguments[_key];\n    }\n\n    (_console = console).debug.apply(_console, ['%c [' + TAG + ']' + tag, 'color: #649191; font-weight: bold'].concat(payload));\n};\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.logInfo = function logInfo(tag) {\n    var _console2;\n\n    for (var _len2 = arguments.length, payload = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        payload[_key2 - 1] = arguments[_key2];\n    }\n\n    (_console2 = console).log.apply(_console2, ['%c [' + TAG + ']' + tag, 'color: #b10ff7; font-weight: bold'].concat(payload));\n};\n//事件英文名称，可由小写字母、下划线、数字组成，并以小写字母开头，（长度为32个字符以内），不能重复，保存后不可修改\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var formatSeed = exports.formatSeed = function formatSeed(seed) {\n    var msg = \"\" + seed;\n    if (msg === '[object Object]') {\n        msg = _formatExinfoParam(seed); //encodeURIComponent(JSON.stringify(seed))\n    }\n    msg = encodeURIComponent(msg);\n    if (msg.indexOf('%') > -1) {\n        var reg = new RegExp('%', 'g');\n        msg = msg.replace(reg, \"\");\n    }\n    if (msg.length >= 32) {\n        msg = msg.substring(0, 32);\n    }\n    return msg.toLowerCase();\n};","","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar api = {\n    getStorage: function getStorage(data) {},\n    setStorage: function setStorage(_ref) {\n        var key = _ref.key,\n            data = _ref.data;\n    },\n    getAppIdSync: function getAppIdSync() {\n        return;\n    },\n    canIUse: function canIUse(api) {\n        return;\n    },\n    reportAnalytics: function reportAnalytics(seed, data) {},\n    getStorageSync: function getStorageSync(_ref2) {\n        var key = _ref2.key;\n\n        return;\n    },\n    setStorageSync: function setStorageSync(_ref3) {\n        var key = _ref3.key,\n            data = _ref3.data;\n    },\n    getSystemInfo: function getSystemInfo(data) {\n        return;\n    },\n    getNetworkType: function getNetworkType(data) {},\n    request: function request(data) {},\n    getLocation: function getLocation(data) {},\n    getRunScene: function getRunScene(data) {},\n    isCollected: function isCollected(data) {},\n\n    isIDE: false\n};\nvar myApi = typeof my !== 'undefined';\n//@ts-ignore\nvar wxApi = typeof wx !== 'undefined';\nif (myApi) {\n    api = _extends(api, my);\n} else if (wxApi) {\n    //@ts-ignore\n    api = _extends(api, wx);\n}\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.default = api;","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar __TEMP__ = require('./common');var logger = __TEMP__['logger'];\nvar __TEMP__ = require('./unify');var unify = __REQUIRE_DEFAULT__(__TEMP__);\nvar canIUseRequest = unify.canIUse(\"request\");\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var setStorageSync = exports.setStorageSync = function setStorageSync(key, data) {\n    unify.setStorageSync({ key: key, data: data });\n};\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var setStorage = exports.setStorage = function setStorage(key, data) {\n    unify.setStorage({ key: key, data: data });\n};\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var getStorageSync = exports.getStorageSync = function getStorageSync(key) {\n    var o = unify.getStorageSync({ key: key });\n    console.log(key, o);\n    return o.data;\n};\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var guid = exports.guid = function guid() {\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (e) {\n        var t = 16 * Math.random() | 0,\n            r = \"x\" === e ? t : 3 & t | 8;\n        return r.toString(16);\n    });\n};\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var setUID = exports.setUID = function setUID(key, uid) {\n    try {\n        var key = key || \"mtr-mdap\";\n        setStorage(key, uid);\n        return uid;\n    } catch (b) {}\n};\n//userId\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var getUUid = exports.getUUid = function getUUid(callback) {\n    var uid;\n    var key = \"mtr-mdap\";\n    try {\n        unify.getStorage({\n            key: key,\n            success: function success(res) {\n                uid = res && res.success && res.data;\n                uid = uid ? uid : (uid = guid(), setUID(key, uid));\n            },\n            complete: function complete() {\n                callback && callback(uid);\n            }\n        });\n    } catch (err) {\n        console.error(err);\n        callback && callback(uid);\n    }\n};\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var getSessionId = exports.getSessionId = function getSessionId() {\n    return guid();\n};\nfunction getSystemInfo() {\n    var info = {};\n    return new Promise(function (r, _) {\n        try {\n            unify.getSystemInfo({\n                success: function success(res) {\n                    info = {\n                        deviceModel: encodeURIComponent(res.model),\n                        pixelRatio: res.pixelRatio,\n                        screen: { width: res.windowWidth, height: res.windowHeight },\n                        language: res.language,\n                        appVersion: res.version,\n                        osVersion: encodeURIComponent(res.system),\n                        os: encodeURIComponent(res.platform),\n                        sessionId: getSessionId()\n                    };\n                },\n                complete: function complete() {\n                    r(info);\n                }\n            });\n        } catch (err) {\n            console.error(err);\n            r(info);\n        }\n    });\n}\nfunction getNetworkType() {\n    return new Promise(function (r, _) {\n        var info = {};\n        unify.getNetworkType({\n            success: function success(res) {\n                try {\n                    info.networkType = res && res.networkType;\n                } catch (err) {\n                    console.log(err);\n                }\n            },\n            complete: function complete() {\n                r(info);\n            }\n        });\n    });\n}\nfunction getBasicStorage() {\n    return new Promise(function (r, _) {\n        var key = \"mtr-mdap-data\";\n        var info = {};\n        try {\n            unify.getStorage({\n                key: key,\n                success: function success(res) {\n                    if (res && res.data) {\n                        info = res.data || {};\n                    }\n                    //uid = res && res.success && res.data;\n                    //uid = uid ? uid : ((uid = guid()), setUID(key, uid));\n                },\n                complete: function complete() {\n                    r(info);\n                }\n            });\n        } catch (a) {\n            r(info);\n        }\n    });\n}\nfunction saveBasicStorage(info) {\n    unify.setStorage({\n        key: \"mtr-mdap-data\",\n        data: info\n    });\n}\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var getBasicInfo = exports.getBasicInfo = function getBasicInfo(callback) {\n    var p = [getBasicStorage(), getSystemInfo(), getNetworkType()];\n    return Promise.all(p).then(function (res) {\n        //console.log(\"getBasicInfo\",res)\n        var info = _extends(res[0], res[1], res[2]);\n        var uid = info.uid;\n        if (!uid) {\n            getUUid(function (res) {\n                info.uid = res || guid();\n                saveBasicStorage(info);\n                callback(info);\n            });\n        } else {\n            callback(info);\n        }\n    })[\"catch\"](function (err) {\n        console.error(err);\n        callback({});\n    });\n};\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var requestNext = exports.requestNext = function requestNext(that) {\n    if (that && that.requestList && that.requestList.length > 0) {\n        var send = that.requestList.shift();\n        that.requestTimestamp = Date.now();\n        that && that.mtrDebug && logger(\"request\");\n        that.sendIng = 1;\n        var url = send.url;\n\n        if (url.indexOf(\"_=\") == -1) {\n            send.url = url.indexOf(\"?\") > -1 ? url + \"&_=\" + that.requestTimestamp : url + \"?_=\" + that.requestTimestamp;\n        }\n        canIUseRequest && unify.request(send);\n    }\n};\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var request = exports.request = function request(url, msg, that) {\n    var send = {\n        url: url,\n        headers: { \"content-type\": \"application/x-www-form-urlencoded\" },\n        data: \"data=\" + encodeURIComponent(msg),\n        method: \"POST\",\n        dataType: \"text\",\n        noTracker: true,\n        success: function success() {\n            that && that.sendSuccess++;\n            that && that.mtrDebug && logger(\"send Success\");\n        },\n        fail: function fail(res) {\n            that && that.sendError++;\n            that && that.mtrDebug && console.warn(\"Tracker requestres send fail\", res);\n            unify.reportAnalytics(\"tracker_send_fail\", res);\n        },\n        complete: function complete() {\n            that.sendIng = 0;\n            that && that.mtrDebug && logger(\"send complete\");\n            requestNext(that);\n        }\n    };\n    that && that.sendCounter++;\n    if (that && that.requestList) {\n        that.requestList.push(send);\n        if (that.sendIng === 0 || Date.now() - that.requestTimestamp > 30000) {\n            requestNext(that);\n        }\n    } else {\n        canIUseRequest && unify.request(send);\n    }\n};\nfunction cutUrlSearch(t) {\n    return t && \"string\" == typeof t ? t.replace(/^(.*?https?:)?\\/\\//, \"\").replace(/\\?.*$/, \"\") : \"\";\n}\nfunction checkAPI(t, e) {\n    if (!t || \"string\" != typeof t) {\n        return !1;\n    }\n    var n = /webtrack\\.allcitygo\\.com[\\w-]*/.test(t); ///openmonitor(\\.(dev|sit|test))?\\.alipay[\\w-]*/.test(t);\n    //webtrack\n    return !n && e && (n = /(\\.png)|(\\.gif)|(alicdn\\.com)/.test(t)), !n;\n}\nfunction getPropertyValue(j, arr) {\n    if (!arr) return undefined;\n    for (var k in j) {\n        if (arr.indexOf(k) > -1) {\n            return \"\" + j[k];\n        }\n    }\n    return undefined;\n}\nfunction ext(t) {\n    for (var _len = arguments.length, _ = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        _[_key - 1] = arguments[_key];\n    }\n\n    for (var e = 1, n = arguments.length; e < n; e++) {\n        var r = arguments[e];\n        for (var o in r) {\n            Object.prototype.hasOwnProperty.call(r, o) && (t[o] = r[o]);\n        }\n    }\n    return t;\n}\nfunction isObject(d) {\n    return \"object\" == (typeof d === \"undefined\" ? \"undefined\" : _typeof(d));\n}\nfunction isString(d) {\n    return \"string\" == typeof d;\n}\nfunction isJSON(str) {\n    var pass_object = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    if (pass_object && isObject(str)) return true;\n    if (!isString(str)) return false;\n    str = str.replace(/\\s/g, \"\").replace(/\\n|\\r/, \"\");\n    if (/^\\{(.*?)\\}$/.test(str)) return (/\"(.*?)\":(.*?)/g.test(str)\n    );\n    if (/^\\[(.*?)\\]$/.test(str)) {\n        return str.replace(/^\\[/, \"\").replace(/\\]$/, \"\").replace(/},{/g, \"}\\n{\").split(/\\n/).map(function (s) {\n            return isJSON(s);\n        }).reduce(function (_, curr) {\n            return !!curr;\n        });\n    }\n    return false;\n}\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.hookRequest = function hookRequest(mtr) {\n    //@ts-ignore\n    var myapi = mtr.my ? my : mtr.wx ? wx : undefined;\n    if (\"undefined\" != typeof myapi && myapi && \"function\" == typeof myapi.request) {\n        var _request = myapi.request;\n        var reqDes = Object.getOwnPropertyDescriptor(myapi, \"request\");\n        reqDes && reqDes.writable && (myapi.request = function (sendData) {\n            var t0 = new Date().getTime();\n            var sendData2 = sendData;\n            if (sendData && !sendData.noTracker && sendData.url) {\n                var api = cutUrlSearch(sendData.url);\n                if (!checkAPI(api, true)) {\n                    return _request.call(my, sendData2);\n                }\n                /*\n                var headers = sendData && sendData.headers;\n                (headers && \"object\" == typeof headers) || (headers = {});\n                */\n                var p = {\n                    success: function success(res) {\n                        \"function\" == typeof sendData.success && sendData.success(res);\n                        var t1 = new Date().getTime(),\n                            code = \"\",\n                            msg = \"\",\n                            response = \"\";\n                        if (res && res.data && (!sendData.dataType || sendData.dataType === \"json\" || \"object\" == _typeof(res.data))) {\n                            var d = res.data;\n                            code = getPropertyValue(d, ['code', 'stat', 'status', 'success']);\n                            /* (d.code!=undefined && \"\"+d.code) ||\n                             (d.stat!=undefined && \"\"+d.stat) ||\n                             (d.status!=undefined && \"\"+d.status)  ||\n                             (d.success!=undefined && \"\"+d.success)  || undefined*/\n                            if (code == undefined && mtr.code && mtr.code.length) code = getPropertyValue(d, mtr.code);\n                            msg = getPropertyValue(d, ['msg', 'message', 'subMsg', 'errorMsg', \"ret\", 'errorResponse']);\n                            /*  d.msg ||\n                              d.message ||\n                              d.subMsg ||\n                              d.errorMsg ||\n                              d.ret ||\n                              d.errorResponse */\n                            if (msg == undefined && mtr.msg && mtr.msg.length) code = getPropertyValue(d, mtr.msg) || \"\";\n                            if ('string' != typeof msg && \"object\" == (typeof msg === \"undefined\" ? \"undefined\" : _typeof(msg))) {\n                                code = code || msg.code;\n                                msg = msg.msg || msg.message || msg.info || msg.ret || JSON.stringify(msg);\n                            }\n                            response = (response = JSON.stringify(d)).substr(0, 1000);\n                        } else if (res) {\n                            try {\n                                var d = res.data || res;\n                                response = (response = JSON.stringify(d)).substr(0, 1000);\n                                if (res.data && \"string\" == typeof res.data && isJSON(res.data)) {\n                                    d = JSON.parse(res.data);\n                                    code = getPropertyValue(d, ['code', 'stat', 'status', 'success']);\n                                    /* (d.code!=undefined && \"\"+d.code) ||\n                                     (d.stat!=undefined && \"\"+d.stat) ||\n                                     (d.status!=undefined && \"\"+d.status)  ||\n                                     (d.success!=undefined && \"\"+d.success)  || undefined*/\n                                    if (code == undefined && mtr.code && mtr.code.length) code = getPropertyValue(d, mtr.code);\n                                    msg = getPropertyValue(d, ['msg', 'message', 'subMsg', 'errorMsg', \"ret\", 'errorResponse']);\n                                    /* d.msg ||\n                                     d.message ||\n                                     d.subMsg ||\n                                     d.errorMsg ||\n                                     d.ret ||\n                                     d.errorResponse */\n                                    if (msg == undefined && mtr.msg && mtr.msg.length) {\n                                        code = getPropertyValue(d, mtr.msg) || \"\";\n                                    }\n                                    if ('string' != typeof msg && \"object\" == (typeof msg === \"undefined\" ? \"undefined\" : _typeof(msg))) {\n                                        code = code || msg.code;\n                                        msg = msg.msg || msg.message || msg.info || msg.ret || JSON.stringify(msg);\n                                    }\n                                }\n                            } catch (e) {\n                                console.warn(e);\n                            }\n                        }\n                        var time = t1 - t0;\n                        var bizSuccess = code == \"20000\" || code == \"200\" || code == \"0\" || msg == \"Success\" || msg == \"success\" || msg == \"SUCCESS\";\n                        if (bizSuccess) {\n                            mtr.stat_api_success && time > mtr.stat_api_long_time && mtr.api({\n                                api: api,\n                                success: true,\n                                time: time,\n                                code: code,\n                                msg: msg,\n                                bizSuccess: bizSuccess,\n                                response: response\n                            });\n                        } else {\n                            mtr.stat_api_fail && mtr.api({\n                                api: api,\n                                success: true,\n                                time: time,\n                                code: code,\n                                msg: msg,\n                                bizSuccess: bizSuccess,\n                                response: response\n                            });\n                        }\n                    },\n                    fail: function fail(res) {\n                        /**\n                         * data:{bizSuc: false, code: 401, message: \"用户未登录\", msg: \"用户未登录\", suc: false}\n                        error\n                        :\n                        19\n                        errorMessage\n                        :\n                        \"http status error\"\n                        headers\n                        :\n                        {Connection: \"close\", Content-Type: \"application/json;charset=UTF-8\", Date: \"Thu, 16 Jan 2020 12:24:03 GMT\", Server: \"openresty\", Transfer-Encoding: \"chunked\"}\n                        status\n                        :\n                        401\n                         */\n                        \"function\" == typeof sendData.fail && sendData.fail(res);\n                        var t1 = new Date().getTime();\n                        var code = \"\";\n                        var msg = \"\";\n                        var response = \"\";\n                        if (res) {\n                            code = res.data && \"object\" == _typeof(res.data) && (res.data.code || res.data.status || res.data.error) || res.status || res.error;\n                            msg = res.data && \"object\" == _typeof(res.data) && (res.data.msg || res.data.message) || res.errorMessage || res.error;\n                            var d = res.data || res;\n                            response = (response = JSON.stringify(d)).substr(0, 1000);\n                            //if (res.data) { response = (response = JSON.stringify(res.data)).substring(0, 1000) }\n                            //response = response || (response = JSON.stringify(res)).substring(0, 1000)\n                        }\n                        mtr.stat_api_fail && mtr.api({\n                            api: api,\n                            success: false,\n                            time: t1 - t0,\n                            code: code,\n                            msg: msg,\n                            bizSuccess: false,\n                            response: response\n                        });\n                    }\n                };\n                sendData2 = ext({}, sendData2, p);\n            }\n            return _request.call(myapi, sendData2);\n        });\n    }\n};\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.hookGetLocation = function hookGetLocation(mtr) {\n    //@ts-ignore\n    var myapi = mtr.my ? my : mtr.wx ? wx : undefined;\n    if (\"undefined\" != typeof myapi && myapi && \"function\" == typeof myapi.getLocation) {\n        var _getLocation = myapi.getLocation;\n        var des = Object.getOwnPropertyDescriptor(myapi, \"getLocation\");\n        des && des.writable && (myapi.getLocation = function (data) {\n            var p = data;\n            if (data) {\n                p = {\n                    success: function success(res) {\n                        \"function\" == typeof data.success && data.success(res);\n                        var longitude = res.longitude,\n                            latitude = res.latitude,\n                            city = res.city,\n                            cityAdcode = res.cityAdcode,\n                            district = res.district,\n                            districtAdcode = res.districtAdcode;\n\n                        var location = { longitude: longitude, latitude: latitude };\n                        city && (location.city = city);\n                        cityAdcode && (location.cityAdcode = cityAdcode);\n                        district && (location.district = district);\n                        districtAdcode && (location.districtAdcode = districtAdcode);\n                        mtr.location = location;\n                    }\n                };\n                p = ext({}, data, p);\n            }\n            return _getLocation.call(myapi, p);\n        });\n    }\n};","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar __TEMP__ = require('../utils/common');var logger = __TEMP__['logger'];var logInfo = __TEMP__['logInfo'];var dateFormat = __TEMP__['dateFormat'];var _encodeStr = __TEMP__['_encodeStr'];var _formatExinfoParam = __TEMP__['_formatExinfoParam'];var getMainInfo = __TEMP__['getMainInfo'];var formatSeed = __TEMP__['formatSeed'];var dealExtra = __TEMP__['dealExtra'];\nvar __TEMP__ = require('../utils/alipay');var request = __TEMP__['request'];var setStorage = __TEMP__['setStorage'];\nvar __TEMP__ = require('../utils/unify');var unify = __REQUIRE_DEFAULT__(__TEMP__);\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var MTR = exports.MTR = function () {\n    function MTR(config) {\n        _classCallCheck(this, MTR);\n\n        this.cfg = {\n            pageSeedId: \"MINI_MTRACKER_AP_PAGE\",\n            clkSeedId: \"MINI_MTRACKER_AP_CLK\",\n            calcSeedId: \"MINI_MTRACKER_AP_CALC\",\n            expoSeedId: \"MINI_MTRACKER_AP_EXPO\",\n            syslogSeedId: \"MINI_MTRACKER_AP_SYSLOG\",\n            apiSeedId: \"MINI_MTRACKER_AP_API\"\n        };\n        this.data = {};\n        this.userId = \"\";\n        this.appVersion = \"\"; // app version\n        this.version = \"\"; //mini app version\n        this.mtrVer = \"\"; // Tracker js versions\n        this.mtrDebug = false;\n        this.mPageState = \"\"; // m.mPageState,\n        this.platformType = \"\";\n        this.bizScenario = \"\"; //m.bizScenario,\n        this.autoStart = true;\n        this.autoError = true;\n        this.autoClick = true;\n        this.eventType = \"touchstart\";\n        this.bizType = \"MiniBehavior\";\n        this.expotTimeout = 300;\n        this.servers = [];\n        //this.expoType\n        this.expoSection = [-0.3, 0.3];\n        this.appId = \"\";\n        this.url = null; //p.URL,\n        this._ready = false;\n        this.sendError = 0;\n        this.sendSuccess = 0;\n        this.sendCounter = 0;\n        this.timezoneOffset = +new Date().getTimezoneOffset();\n        this.requestList = [];\n        this.batchSendList = []; //stat_batch_send\n        this.callList = [];\n        this.requestTimestamp = 0;\n        this.sendIng = 0;\n        this.sn = 0;\n        this.visitorList = [];\n        this.timezone = 8; //目标时区时间，东八区\n        this.sessionId = \"\";\n        this.appName = \"\";\n        this.mPlatformType = \"\";\n        this.deviceModel = \"\";\n        this.location = \"\";\n        this.workspaceId = \"\";\n        this.ref = \"\";\n        this.os = \"\";\n        this.osVersion = \"\";\n        this.networkType = \"\";\n        this.language = \"\";\n        this.screen = {};\n        this.cPageUrl = \"\";\n        this.jumpPage = \"\";\n        this.pageJumpTime = 0;\n        this.pageLoadTime = 0;\n        this.startTime = 0;\n        this.pageHideTime = 0;\n        this.isCollected = false;\n        this.prefix = 'mtr-';\n        this.stat_share_app = !1;\n        this.stat_pull_down_fresh = !1;\n        this.stat_page_scroll = !1;\n        this.stat_hide = true;\n        this.stat_unload = !1;\n        this.stat_reach_bottom = !1;\n        this.stat_auto_click = true;\n        this.stat_api = true;\n        this.stat_api_success = true;\n        this.stat_api_long_time = 3000;\n        this.stat_api_fail = true;\n        this.baseInfo = {};\n        this.code = []; //request hook code 码\n        this.msg = []; //request hook msg 码\n        this.refAction = '';\n        this.scene = '-';\n        this.referrerAppId = '-';\n        this.refActionList = [];\n        this.stat_app_launch = false;\n        this.stat_app_show = false;\n        this.stat_auto_expo = false;\n        this.stat_sw = true;\n        this.stat_batch_send = false;\n        this.batchSendTimerId = 0;\n        _extends(this, config);\n        console.debug(\"offset_GMT\", this.timezoneOffset);\n    }\n\n    _createClass(MTR, [{\n        key: \"_start\",\n        value: function _start() {\n            this._ready = true;\n            logInfo(\"_start\", this._ready, this.callList);\n            while (this.callList && this.callList.length) {\n                var send = this.callList.shift();\n                send && this._remoteLog(send, { batchSend: true, time: 100 });\n            }\n        }\n    }, {\n        key: \"start\",\n        value: function start() {\n            var _this = this;\n\n            if (typeof this.server === \"string\") {\n                this.servers.push(this.server);\n            } else if (Array.isArray(this.server)) {\n                this.servers = this.servers.concat(this.server);\n            }\n            if (!this.baseInfo.sn || typeof this.baseInfo.sn != \"number\") {\n                unify.getStorage({\n                    key: \"mtr-sn\",\n                    success: function success(res) {\n                        _this.baseInfo.sn = res.data || res.APDataStorage || 0;\n                        if (typeof _this.baseInfo.sn != \"number\") {\n                            _this.baseInfo.sn = 0;\n                        }\n                        logInfo(\"mtr-sn\", _this.baseInfo.sn);\n                    },\n                    complete: function complete() {}\n                });\n            }\n            if (!this.userId) {\n                unify.getStorage({\n                    key: \"mtr-userId\",\n                    success: function success(res) {\n                        _this.userId = res.data || res.APDataStorage;\n                        _this.baseInfo.userId = _this.userId;\n                        setStorage(\"mtr-mdap-data\", _this.baseInfo);\n                        logInfo(\"mtr-userId\", _this.userId);\n                    },\n                    complete: function complete() {\n                        _this.autoStart && _this._start();\n                    }\n                });\n            } else {\n                this.autoStart && this._start();\n            }\n        }\n    }, {\n        key: \"batchSend\",\n        value: function batchSend() {\n            if (this.batchSendList.length) {\n                var that = this;\n                var msg = this.batchSendList /*.map((t)=>encodeURIComponent(t))*/.join('^next=');\n                this.batchSendList = [];\n                this.servers && this.servers.forEach(function (s) {\n                    s.indexOf(\"https://\") > -1 && request(s, msg, that);\n                });\n            }\n        }\n    }, {\n        key: \"_send\",\n        value: function _send(msg) {\n            var _this2 = this;\n\n            var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n            var that = this;\n            if (this.stat_sw && this.servers) {\n                // batchSendList:any[] = []//stat_batch_send\n                if (this.stat_batch_send && option.batchSend) {\n                    this.batchSendList.push(msg);\n                    if (this.batchSendTimerId) {\n                        clearTimeout(this.batchSendTimerId);\n                    }\n                    this.batchSendTimerId = setTimeout(function () {\n                        _this2.batchSendTimerId = 0;\n                        _this2.batchSend();\n                    }, option.time || 1000);\n                } else {\n                    this.servers.forEach(function (s) {\n                        s.indexOf(\"https://\") > -1 && request(s, msg, that);\n                    });\n                }\n            }\n        }\n    }, {\n        key: \"_trueUserId\",\n        value: function _trueUserId() {\n            return this.userId || \"VISITOR\";\n        }\n    }, {\n        key: \"_getSessionId\",\n        value: function _getSessionId() {\n            return this.sessionId;\n        }\n    }, {\n        key: \"_getUUid\",\n        value: function _getUUid() {\n            return this.baseInfo.uid;\n        }\n    }, {\n        key: \"_formatRemoteParam\",\n        value: function _formatRemoteParam(msg) {\n            var param4 = _extends({}, this.data, { user_id: this._trueUserId(), fullURL: this.url, txSuc: this.sendSuccess, txCnt: this.sendCounter, txErr: this.sendError });\n            this.bizType && (param4.bizType = this.bizType);\n            this.appVersion && (param4.appVersion = this.appVersion);\n            this.appName && (param4.appName = this.appName);\n            this.bizScenario && (param4.mBizScenario = this.bizScenario);\n            this.mPageState && (param4.mPageState = this.mPageState);\n            this.mPlatformType && (param4.mPlatformType = this.mPlatformType);\n            this.deviceModel && (param4.deviceModel = this.deviceModel);\n            if (this.location) {\n                _extends(param4, this.location);\n            }\n            //this.lauchOpts && (param4.lauchOpts = JSON.stringify(this.lauchOpts))\n            msg.param4 ? msg.param4 = _extends(param4, msg.param4) : msg.param4 = param4;\n            if ('next' in msg.param4) {\n                delete msg.param4.next;\n            }\n            return msg;\n        }\n    }, {\n        key: \"_now\",\n        value: function _now() {\n            var nowDate = new Date().getTime(); // 本地时间距 1970 年 1 月 1 日午夜（GMT 时间）之间的毫秒数\n            var targetDate = new Date(nowDate + this.timezoneOffset * 60 * 1000 + this.timezone * 60 * 60 * 1000);\n            return targetDate;\n        }\n    }, {\n        key: \"_getSN\",\n        value: function _getSN() {\n            return this.baseInfo && this.baseInfo.sn++;\n        }\n        /*\n        *\n        *\n        # 字段名称\n        字段 01\t日志头 D-VM\n        字段 02\t客户端日志时间\n        字段 03\t客户端 ID\n        字段 04\t客户端版本\n        字段 05\t日志版本\n        字段 06\t终端 ID\n        字段 07\t会话 ID\n        字段 08\t用户 ID\n        字段 09\t行为 ID\n        字段 10\t行为状态\n        字段 11\t行为状态消息\n        字段 12\t子应用 ID\n        字段 13\t子应用版本\n        字段 14\t视图 ID\n        字段 15\t自动化埋点的 contentId\n        字段 16\t埋点 ID\n        字段 17\turl\n        字段 18\t行为类型\n        字段 19\t日志类型\n        字段 20\t扩展 1\n        字段 21\t扩展 2\n        字段 22\t扩展 3\n        字段 23\t扩展 4\n        字段 24\tsourceId营销来源\n        字段 25\t页面流水号\n        字段 26\tutdid\n        字段 27\tucid 用例编号\n        字段 28\t索引号\n        字段 29\t上一个 VIEWID\n        字段 30\t当前 VIEWID\n        字段 31\t当前 ACTIONID\n        字段 32\t当前 ACTIONTOKEN\n        字段 33\t当前 ACTIONDESC\n        字段 34\t手机型号\n        字段 35\t操作系统版本\n        字段 36\t网络类型\n        字段 37\t内部版本号\n        字段 38\t渠道号\n        字段 39\t语言\n        字段 40\thotPatch 版本号\n        字段 41\tAndroid: CPU CoreNum\n        字段 42\tAndroid: CPU MaxFreq，单位 MHz\n        字段 43\tAndroid: TotalMem，单位 MB\n        字段 44\t基础额外字段\n        字段 45\tUserSessionId\n        字段 46\t分辨率\n        *\n        * */\n\n    }, {\n        key: \"_packFinalData\",\n        value: function _packFinalData(data) {\n            data.param4 = _extends({\n                mtrVer: this.mtrVer || \"-\",\n                mtrSeed: data.param2 || \"\",\n                mtrValue: data.param3 || \"\"\n            }, data.param4);\n            //const type = \"MINI\";\n            if (!this.appId && unify.canIUse(\"getAppIdSync\") && unify.getAppIdSync) {\n                this.appId = unify.getAppIdSync().appId || \"\";\n            }\n            var sendList = [\"D-VM\", dateFormat(data.timestamp || this._now()), this.appId + \"_MINI-\" + (this.workspaceId || \"default\"), this.version || \"-\", \"2\", \"-\", this._getSessionId() || \"-\", this._trueUserId() || \"-\", data.seedId || \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", data.seedId || \"-\", _encodeStr(this.url || \"-\"), this.bizType, \"c\", _encodeStr(data.param1 || \"-\"), data.param2 || \"\", data.param3 || \"\", _formatExinfoParam(data.param4) || \"-\", this.bizScenario || \"-\", data.sn || this._getSN() || \"-\", this._getUUid() || \"-\", \"-\", \"-\", _encodeStr(this.ref || \"-\"), _encodeStr(this.url || \"-\"), \"-\", \"-\", \"-\", this.os || \"-\", this.osVersion || \"-\", this.networkType || \"-\", \"-\", \"-\", this.language || \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", this.screen && this.screen.width + \"x\" + this.screen.height || \"-\", \"-\", \"-\"];\n            return this.mtrDebug && console.log(sendList), sendList.join();\n        }\n    }, {\n        key: \"_remoteLog\",\n        value: function _remoteLog(msg) {\n            var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n            var sn = msg.sn || this._getSN();\n            msg.sn = sn;\n            if (this._ready) {\n                this._formatRemoteParam(msg);\n                var r = this._packFinalData(msg);\n                this._send(r, option);\n                if (this._trueUserId() === \"VISITOR\") {\n                    this.visitorList.push(r);\n                }\n                this.mtrDebug && logger(\"_remoteLog _send\");\n            } else {\n                this.callList.push(msg);\n                this.mtrDebug && logger(\"_remoteLog push\");\n            }\n            return sn;\n        }\n    }, {\n        key: \"getUserId\",\n        value: function getUserId() {\n            return this._trueUserId();\n        }\n    }, {\n        key: \"setUserId\",\n        value: function setUserId(userId) {\n            var resend = this._trueUserId() === \"VISITOR\" && userId !== this.userId && this.visitorList.length;\n            this.userId = userId;\n            this.baseInfo.userId = userId;\n            setStorage(\"mtr-mdap-data\", this.baseInfo); //  mtr-userId\n            if (resend) {\n                while (this.visitorList && this.visitorList.length) {\n                    var send = this.visitorList.shift();\n                    send = send && send.replace(\"VISITOR\", this.userId).replace(\"VISITOR\", this.userId);\n                    send && this._send(send, { batchSend: true });\n                }\n                this.mtrDebug && logInfo(\"VISITOR resended\");\n            }\n        }\n    }, {\n        key: \"logJump\",\n        value: function logJump(currentPage, to) {\n            var param = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n            if (this.jumpPage && this.jumpPage === currentPage) {\n                return;\n            }\n            this.mtrDebug && logger(\"logJump\");\n            //Mtr.st app init\n            //this.ld page onShow\n            //this.hd  page hide\n            //this.jo  page jump\n            //h5  this.ol || this.dr\n            var jo = this.pageLoadTime || this.startTime;\n            var now = +Date.now();\n            var t0 = now - jo;\n            this.pageJumpTime = now;\n            var param4 = param;\n            if (currentPage && to && currentPage != to) {\n                to = to || \"-\";\n                param4 = param4 || {};\n                _extends(param4, {\n                    currentPage: currentPage,\n                    nextPage: to,\n                    action: \"page_jump\"\n                });\n                this.calc(currentPage, \"PAGE_JUMP\", t0, param4, true);\n            }\n            this.jumpPage = currentPage;\n        }\n        /*\n        onPageHide(currentPage:string) {\n          this.pageHide(currentPage, { action: \"page_hide\" });\n        }\n            onPageUnload(currentPage:string) {\n          this.pageHide(currentPage, { action: \"page_unload\" });\n        }\n        */\n\n    }, {\n        key: \"onAppHide\",\n        value: function onAppHide() {\n            var t0 = +Date.now() - this.startTime;\n            this.calc(null, \"APP_HIDE\", t0, {/*isCollected: this.isCollected */}, true);\n            //setStorage(\"mtr-sn\", this.sn);\n            setStorage(\"mtr-mdap-data\", this.baseInfo);\n        }\n    }, {\n        key: \"onAppError\",\n        value: function onAppError(err) {\n            this.err(\"APP_ERROR\", err);\n        }\n        /*\n        pageHide(currentPage:string, p4:any={}) {\n          this.mtrDebug && logger(\"pageHide\");\n          var jo = this.ld || this.st;\n          var now = Date.now();\n          var t0 = now - jo;\n          this.hd = now;\n          if (!this.jo) {\n            p4 = p4 || {};\n            Object.assign(p4, {\n              currentPage: currentPage\n            });\n            this.calc(currentPage, \"PAGE_STAY\", t0, p4,true);\n          }\n        }*/\n\n    }, {\n        key: \"pagePv\",\n        value: function pagePv(t) {\n            var param = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n            this.mtrDebug && logger(\"pagePv\", this.cPageUrl);\n            var currentPageUrl = t || getMainInfo().url;\n            if (this.cPageUrl && this.cPageUrl !== currentPageUrl) {\n                this.logJump(this.cPageUrl, currentPageUrl);\n            }\n            this.ref = this.cPageUrl;\n            this.cPageUrl = currentPageUrl;\n            this.url = this.cPageUrl;\n            this.pageLoadTime = +Date.now();\n            this.pageHideTime = 0;\n            this.pageJumpTime = 0;\n            var param4 = dealExtra(param);\n            if (this.refAction != 'PAGE_LOAD') {\n                param4.refAction = this.refAction;\n            }\n            this.refAction = 'PAGE_LOAD';\n            this.refActionList = [];\n            return this._remoteLog({\n                seedId: this.cfg.pageSeedId,\n                param1: this.cPageUrl,\n                param2: \"PAGE_LOAD\",\n                param3: \"\",\n                param4: param4\n                //param4: t || {}\n            });\n        }\n    }, {\n        key: \"appEvent\",\n        value: function appEvent(event) {\n            var _this3 = this;\n\n            var param = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n            var timestamp = this._now();\n            var send = function send() {\n                _this3.mtrDebug && logger(\"appEvent\", param);\n                var param4 = param;\n                param4.refAction = _this3.refAction;\n                _this3.refAction = event;\n                return _this3._remoteLog({\n                    timestamp: timestamp,\n                    seedId: _this3.cfg.clkSeedId,\n                    param1: \"\",\n                    param2: event,\n                    param3: \"\",\n                    param4: param4\n                }, { batchSend: true });\n            };\n            if (this.userId) {\n                send();\n            } else {\n                setTimeout(function () {\n                    send();\n                }, 2000);\n            }\n        }\n    }, {\n        key: \"click\",\n        value: function click(url, seed) {\n            var param = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n            var inter = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n            this.mtrDebug && logger(\"click\", seed);\n            var myUrl = url || getMainInfo().url;\n            this.url = myUrl;\n            var param4 = inter ? param : dealExtra(param);\n            var param2 = _encodeStr(seed);\n            if (this.refActionList.indexOf(param2) != -1) {\n                //param4.refAction = \"[\"+this.refAction+\"]\"\n            } else if (this.refAction != param2) {\n                param4.refAction = this.refAction;\n            }\n            var msg = {\n                seedId: this.cfg.clkSeedId,\n                param1: myUrl,\n                param2: param2,\n                param3: '',\n                param4: param4\n            };\n            if (param.terminal != undefined && param.terminal) {\n                this.refAction = '';\n            } else {\n                this.refAction = param2;\n                this.refActionList.push(this.refAction);\n            }\n            return this._remoteLog(msg, { batchSend: true });\n        }\n    }, {\n        key: \"calc\",\n        value: function calc(url, r, n) {\n            var param = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n            var inter = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n            this.mtrDebug && logger(\"calc\");\n            var myUrl = url || getMainInfo().url;\n            this.url = myUrl;\n            var param4 = inter ? param : dealExtra(param);\n            param4.refAction = this.refAction;\n            var a = {\n                seedId: this.cfg.calcSeedId,\n                param1: myUrl,\n                param2: _encodeStr(r),\n                param3: n,\n                param4: param4\n            };\n            return this._remoteLog(a, { batchSend: true });\n        }\n    }, {\n        key: \"expo\",\n        value: function expo(url, item, dir, data) {\n            this.mtrDebug && logger(\"expo\");\n            if (!this.stat_auto_expo) {\n                logger(\"expo disable\");\n                return -1;\n            }\n            var myUrl = url || getMainInfo().url;\n            this.url = myUrl;\n            var param4 = dealExtra(data || {});\n            param4.refAction = this.refAction;\n            return this._remoteLog({\n                seedId: this.cfg.expoSeedId,\n                param1: myUrl,\n                param2: _encodeStr(item),\n                param3: dir,\n                param4: param4\n            }, { batchSend: true });\n        }\n    }, {\n        key: \"log\",\n        value: function log(r) {\n            var param = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n            this.mtrDebug && logger(\"log\");\n            var info = getMainInfo();\n            this.url = info.url;\n            var param2 = formatSeed(r);\n            var param4 = _extends({ mtrLogMsg: r }, dealExtra(param));\n            param4.refAction = this.refAction;\n            unify.reportAnalytics(param2, param4);\n            return this._remoteLog({\n                seedId: this.cfg.syslogSeedId,\n                param1: this.url,\n                param2: param2,\n                param3: \"\",\n                param4: param4\n            }, { batchSend: true });\n        }\n    }, {\n        key: \"err\",\n        value: function err(r, n) {\n            var param = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n            this.mtrDebug && console.warn(\"Tracker.err()\", r, n);\n            var info = getMainInfo();\n            this.url = info.url;\n            var param2 = formatSeed(n);\n            var param4 = _extends({ mtrTag: r, mtrErrMsg: n }, dealExtra(param));\n            param4.refAction = this.refAction;\n            unify.reportAnalytics(param2, param4);\n            return this._remoteLog({\n                seedId: \"MTRERR_\" + this.appId + \"_\" + r,\n                param1: this.url,\n                param2: param2,\n                param3: '',\n                param4: param4\n            }, { batchSend: true });\n        }\n    }, {\n        key: \"api\",\n        value: function api(param) {\n            var api = param.api,\n                success = param.success,\n                time = param.time,\n                code = param.code,\n                msg = param.msg,\n                response = param.response,\n                bizSuccess = param.bizSuccess;\n\n            this.mtrDebug && logger(\"api\", api, success, time, code, msg);\n            var myUrl = getMainInfo().url;\n            var param2 = bizSuccess ? time > 30000 ? \"API_UNUSUAL\" : \"API_SLOW\" : success ? \"API_BIZ_FAIL\" : \"API_FAIL\"; //this.formatSeed(api)    \n            unify.reportAnalytics(param2.toLowerCase(), { api: api, success: success, bizSuccess: bizSuccess, time: time, code: code, msg: msg, response: response });\n            return this._remoteLog({\n                seedId: this.cfg.apiSeedId,\n                param1: myUrl,\n                param2: param2,\n                param3: time,\n                param4: { api: api, success: success, bizSuccess: bizSuccess, time: time, code: code, msg: msg, response: response, refAction: this.refAction }\n            }, { batchSend: true });\n        }\n    }, {\n        key: \"setData\",\n        value: function setData(key, value) {\n            this.data[key] = value;\n        }\n    }]);\n\n    return MTR;\n}();","var myscene = {\n    \"1000\": \"首页12宫格及更多\",\n    \"1002\": \"小程序收藏应用入口，包含朋友tab中的入口\",\n    \"1005\": \"顶部搜索框的搜索结果页\",\n    \"1007\": \"单人聊天会话中的小程序消息卡片\",\n    \"1011\": \"扫描二维码\",\n    \"1014\": \"小程序模版消息（服务提醒）\",\n    \"1020\": \"生活号 profile 页相关小程序列表\",\n    \"1023\": \"系统桌面图标\",\n    \"1037\": \"小程序打开小程序\",\n    \"1038\": \"从另一个小程序返回\",\n    \"1090\": \"长按小程序右上角菜单唤出最近使用历史\",\n    \"1200\": \"城市服务频道\",\n    \"1201\": \"芝麻信用频道\",\n    \"1202\": \"车主服务频道\",\n    \"1203\": \"医疗服务频道\",\n    \"1204\": \"大学生活频道\",\n    \"1205\": \"中小学频道\",\n    \"1206\": \"共享单车频道\",\n    \"1207\": \"保险服务频道\",\n    \"1208\": \"天天有料频道\",\n    \"1209\": \"支付宝会员频道\",\n    \"1300\": \"第三方APP（如钉钉）打开\",\n    \"0000\": \"待确认的场景\"\n};\nvar wxscene = {\n    '1000': '其他',\n    '1001': '发现栏小程序主入口，「最近使用」列表',\n    '1005': '微信首页顶部搜索框的搜索结果页',\n    '1006': '发现栏小程序主入口搜索框的搜索结果页',\n    '1007': '单人聊天会话中的小程序消息卡片',\n    '1008': '群聊会话中的小程序消息卡片',\n    '1010': '收藏夹',\n    '1011': '扫描二维码',\n    '1012': '长按图片识别二维码',\n    '1013': '扫描手机相册中选取的二维码',\n    '1014': '小程序模板消息',\n    '1017': '前往小程序体验版的入口页',\n    '1019': '微信钱包',\n    '1020': '公众号 profile 页相关小程序列表',\n    '1022': '聊天顶部置顶小程序入口',\n    '1023': '安卓系统桌面图标',\n    '1024': '小程序 profile 页',\n    '1025': '扫描一维码',\n    '1026': '发现栏小程序主入口，「附近的小程序」列表',\n    '1027': '微信首页顶部搜索框搜索结果页「使用过的小程序」列表',\n    '1028': '我的卡包',\n    '1029': '小程序中的卡券详情页',\n    '1030': '自动化测试下打开小程序',\n    '1031': '长按图片识别一维码',\n    '1032': '扫描手机相册中选取的一维码',\n    '1034': '微信支付完成页',\n    '1035': '公众号自定义菜单',\n    '1036': 'App 分享消息卡片',\n    '1037': '小程序打开小程序',\n    '1038': '从另一个小程序返回',\n    '1039': '摇电视',\n    '1042': '添加好友搜索框的搜索结果页',\n    '1043': '公众号模板消息',\n    '1044': '带 shareTicket 的小程序消息卡片 详情',\n    '1045': '朋友圈广告',\n    '1046': '朋友圈广告详情页',\n    '1047': '扫描小程序码',\n    '1048': '长按图片识别小程序码',\n    '1049': '扫描手机相册中选取的小程序码',\n    '1052': '卡券的适用门店列表',\n    '1053': '搜一搜的结果页',\n    '1054': '顶部搜索框小程序快捷入口（微信客户端版本6.7.4起废弃）',\n    '1056': '聊天顶部音乐播放器右上角菜单',\n    '1057': '钱包中的银行卡详情页',\n    '1058': '公众号文章',\n    '1059': '体验版小程序绑定邀请页',\n    '1064': '微信首页连Wi-Fi状态栏',\n    '1067': '公众号文章广告',\n    '1068': '附近小程序列表广告（已废弃）',\n    '1069': '移动应用',\n    '1071': '钱包中的银行卡列表页',\n    '1072': '二维码收款页面',\n    '1073': '客服消息列表下发的小程序消息卡片',\n    '1074': '公众号会话下发的小程序消息卡片',\n    '1077': '摇周边',\n    '1078': '微信连Wi-Fi成功提示页',\n    '1079': '微信游戏中心',\n    '1081': '客服消息下发的文字链',\n    '1082': '公众号会话下发的文字链',\n    '1084': '朋友圈广告原生页',\n    '1088': '会话中系统消息，打开小程序',\n    '1089': '微信聊天主界面下拉，「最近使用」栏（基础库2.2.4版本起包含「我的小程序」栏）',\n    '1090': '长按小程序右上角菜单唤出最近使用历史',\n    '1091': '公众号文章商品卡片',\n    '1092': '城市服务入口',\n    '1095': '小程序广告组件',\n    '1096': '聊天记录，打开小程序',\n    '1097': '微信支付签约原生页，打开小程序',\n    '1099': '页面内嵌插件',\n    '1102': '公众号 profile 页服务预览',\n    '1103': '发现栏小程序主入口，「我的小程序」列表（基础库2.2.4版本起废弃）',\n    '1104': '微信聊天主界面下拉，「我的小程序」栏（基础库2.2.4版本起废弃）',\n    '1106': '聊天主界面下拉，从顶部搜索结果页，打开小程序',\n    '1107': '订阅消息，打开小程序',\n    '1113': '安卓手机负一屏，打开小程序（三星）',\n    '1114': '安卓手机侧边栏，打开小程序（三星）',\n    '1124': '扫“一物一码”打开小程序',\n    '1125': '长按图片识别“一物一码”',\n    '1126': '扫描手机相册中选取的“一物一码”',\n    '1129': '微信爬虫访问 详情',\n    '1131': '浮窗打开小程序',\n    '1133': '硬件设备打开小程序 详情',\n    '1135': '小程序profile页其他小程序列表，打开小程序',\n    '1146': '地理位置信息打开出行类小程序',\n    '1148': '卡包-交通卡，打开小程序',\n    '1150': '扫一扫商品条码结果页打开小程序',\n    '1153': '“识物”结果页打开小程序',\n    '1169': '发现栏小程序主入口，各个生活服务入口（例如快递服务、出行服务等）'\n};\nvar alipay = typeof my !== 'undefined';\n// @ts-ignore\nvar wixin = typeof wx !== 'undefined';\nvar CONFIG = {\n    appId: '',\n    prefix: 'mtr-',\n    mtrVer: '0.0.23',\n    stat_sw: true,\n    stat_share_app: false,\n    stat_pull_down_fresh: false,\n    stat_page_scroll: false,\n    stat_hide: true,\n    stat_unload: false,\n    stat_batch_send: false,\n    stat_reach_bottom: false,\n    stat_auto_click: true,\n    stat_auto_expo: false,\n    stat_auto_apperr: false,\n    stat_location: false,\n    stat_api: true,\n    stat_api_success: true,\n    stat_api_long_time: 3000,\n    stat_api_fail: true,\n    scene: alipay ? myscene : wxscene,\n    my: alipay,\n    wx: wixin\n};\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.default = CONFIG;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar __TEMP__ = require('../utils/common');var logger = __TEMP__['logger'];var logInfo = __TEMP__['logInfo'];\nvar __TEMP__ = require('../config');var CONFIG = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('../utils/alipay');var hookGetLocation = __TEMP__['hookGetLocation'];var hookRequest = __TEMP__['hookRequest'];\nvar actionEventTypes = [\"tap\", \"longpress\", \"firstAppear\", \"appear\", \"submit\"];\nfunction actionListener(Mtr, t, e) {\n    var mtrDebug = Mtr.mtrDebug;\n    mtrDebug && logger(\"actionListener\");\n    if (t.trackered) {\n        logInfo(\"actionListener trackered\");\n        return;\n    }\n    t.trackered = true;\n    var dataset = t.currentTarget.dataset;\n    var xpath = (t.id || \"\") + \"#\" + e;\n    var obj = dataset.obj;\n    var name = obj ? obj.seedName || obj.name || obj.icon_name || obj.text || obj.text_content || obj.mid_text_content : undefined;\n    var seedName = dataset.seed || dataset.seedName || dataset.title || name || xpath;\n    var globalData = {};\n    if (dataset.mtrappdata) {\n        // @ts-ignore\n        var app = getApp();\n        app.globalData && Object.keys(app.globalData).forEach(function (key) {\n            if (dataset.mtrappdata.indexOf(key) > -1) {\n                globalData[\"app-\" + key] = app.globalData[key];\n            }\n        });\n    }\n    var pageData = {};\n    if (dataset.mtrpagedata && this.data) {\n        var data = this.data;\n        Object.keys(data).forEach(function (key) {\n            if (dataset.mtrpagedata.indexOf(key) > -1) {\n                pageData['page-' + key] = data[key];\n            }\n        });\n    }\n    if (\"tap\" === t.type || \"longpress\" === t.type || \"submit\" === t.type) {\n        mtrDebug && logInfo(\"Hook click\", seedName);\n        if (dataset.mtrignore) {\n            mtrDebug && logInfo(\"Hook click mtrignore\");\n            return;\n        }\n        //var { url_type, url_path, url_data, url_remark } = obj || {};\n        obj = obj || {};\n        Mtr.click(this.route, seedName, _extends({ xpath: xpath }, globalData, pageData, obj, { index: dataset.index || 0, group: dataset.group || \"-\" }));\n    } else if (\"appear\" === t.type || \"firstAppear\" === t.type) {\n        Mtr.mtrDebug && logInfo(\"Hook expo\", seedName);\n        if (dataset.mtrignore) {\n            mtrDebug && logInfo(\"Hook expo mtrignore\");\n            return;\n        }\n        Mtr.expo(this.route, seedName, \"-\", _extends({ xpath: xpath }, globalData, pageData, obj, { index: dataset.index || 0, group: dataset.group || \"-\" }));\n    }\n    // (\"tap\" === t.type || \"longpress\" === t.type) &&  Mtr.click(t, e)\n}\nfunction hookComponent(Mtr, t, e) {\n    return function () {\n        var i = arguments ? arguments[0] : void 0;\n        if (i && i.currentTarget && -1 !== actionEventTypes.indexOf(i.type)) try {\n            actionListener.call(this, Mtr, i, t);\n        } catch (t) {\n            console.error(t);\n        }\n        return e.apply(this, arguments);\n    };\n}\nfunction hookPage(Mtr, t, e) {\n    return function () {\n        var i = arguments ? arguments[0] : void 0;\n        if (i && i.currentTarget && -1 !== actionEventTypes.indexOf(i.type)) try {\n            actionListener.call(this, Mtr, i, t);\n        } catch (t) {\n            console.error(t);\n        }\n        return e.apply(this, arguments);\n    };\n}\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.Hook = function Hook(obj, funName, hook) {\n    var fun1 = obj[funName];\n    obj[funName] = function (data) {\n        hook.call(this, data);\n        return fun1 && fun1.call(this, data);\n    };\n};\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var TrackerApp = exports.TrackerApp = function () {\n    function TrackerApp(Mtr) {\n        _classCallCheck(this, TrackerApp);\n\n        this.Mtr = Mtr;\n    }\n\n    _createClass(TrackerApp, [{\n        key: \"init\",\n        value: function init(config) {\n            config && _extends(this.Mtr, config);\n            console.warn(\"App.init() 已经不再使用,请删除代码,配置信息请放置 App({ mtrConfig:{ ... }})\");\n        }\n    }, {\n        key: \"onLaunch\",\n        value: function onLaunch() {\n            var Mtr = this.Mtr;\n            return function (option) {\n                try {\n                    if (option) {\n                        var query = option.query,\n                            scene = option.scene,\n                            referrerInfo = option.referrerInfo;\n\n                        Mtr.scene = scene || '';\n                        scene && (scene = CONFIG.scene[scene] || scene);\n                        var query_bizScenario = query && (query.bizScenario || query.bz);\n                        var extraData_bizScenario = referrerInfo && referrerInfo.extraData && referrerInfo.extraData.bizScenario;\n                        var referrerInfo_appId = referrerInfo && referrerInfo.appId;\n                        if (!Mtr.bizScenario) {\n                            Mtr.bizScenario = query_bizScenario || extraData_bizScenario || referrerInfo_appId || scene;\n                        }\n                        Mtr.referrerAppId = referrerInfo_appId || '';\n                    }\n                } catch (b) {\n                    Mtr.mtrDebug && console.error(\"Mtr\", b);\n                }\n                Mtr.stat_app_launch && Mtr.appEvent(\"APP_ON_LAUNCH\", {\n                    option: JSON.stringify(option),\n                    tzone: Mtr.timezoneOffset,\n                    referrerAppId: Mtr.referrerAppId,\n                    scene: Mtr.scene\n                });\n                Mtr.stat_location && hookGetLocation(Mtr);\n                Mtr.stat_api && hookRequest(Mtr);\n                Mtr.mtrDebug && logInfo(\"App onLaunch\");\n            };\n        }\n    }, {\n        key: \"onHide\",\n        value: function onHide() {\n            var Mtr = this.Mtr;\n            return function () {\n                Mtr.mtrDebug && logInfo(\"app onHide\");\n                Mtr.onAppHide();\n            };\n        }\n    }, {\n        key: \"onError\",\n        value: function onError() {\n            var Mtr = this.Mtr;\n            return function (e) {\n                try {\n                    Mtr.mtrDebug && logInfo(\"app onError\");\n                    Mtr.onAppError(e);\n                } catch (err) {\n                    console.error(err);\n                }\n            };\n        }\n    }, {\n        key: \"onShow\",\n        value: function onShow() {\n            var Mtr = this.Mtr;\n            return function (option) {\n                try {\n                    if (option) {\n                        var query = option.query,\n                            scene = option.scene,\n                            referrerInfo = option.referrerInfo;\n\n                        Mtr.scene = scene || '';\n                        scene && (scene = CONFIG.scene[scene] || scene);\n                        var query_bizScenario = query && (query.bizScenario || query.bz);\n                        var extraData_bizScenario = referrerInfo && referrerInfo.extraData && referrerInfo.extraData.bizScenario;\n                        var referrerInfo_appId = referrerInfo && referrerInfo.appId;\n                        if (!Mtr.bizScenario) {\n                            Mtr.bizScenario = query_bizScenario || extraData_bizScenario || referrerInfo_appId || scene;\n                        }\n                        Mtr.referrerAppId = referrerInfo_appId || '';\n                    }\n                } catch (b) {\n                    Mtr.mtrDebug && console.error(\"Mtr\", b);\n                }\n                Mtr.startTime = +Date.now();\n                Mtr.stat_app_show && Mtr.appEvent(\"APP_ON_SHOW\", {\n                    option: JSON.stringify(option),\n                    referrerAppId: Mtr.referrerAppId,\n                    scene: Mtr.scene\n                });\n                Mtr.mtrDebug && logInfo(\"app onShow\", option);\n            };\n        }\n    }]);\n\n    return TrackerApp;\n}();\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var TrackerPage = exports.TrackerPage = function () {\n    function TrackerPage(Mtr) {\n        _classCallCheck(this, TrackerPage);\n\n        this.Mtr = Mtr;\n    }\n\n    _createClass(TrackerPage, [{\n        key: \"init\",\n        value: function init() {\n            console.warn(\"Page.init() 已经不再使用,请删除代码\");\n        }\n    }, {\n        key: \"onLoad\",\n        value: function onLoad() {\n            var Mtr = this.Mtr;\n            return function (query) {\n                Mtr.mtrDebug && logInfo(\"Page onLoad \", this.route, query);\n                if (query && (\"bizScenario\" in query || \"bz\" in query)) {\n                    var bizScenario = query.bizScenario,\n                        bz = query.bz;\n\n                    bizScenario = bizScenario || bz;\n                    Mtr.bizScenario = bizScenario;\n                }\n                this.$mtr_query = query;\n            };\n        }\n    }, {\n        key: \"onShow\",\n        value: function onShow() {\n            var Mtr = this.Mtr;\n            return function () {\n                Mtr.mtrDebug && logInfo(\"onShow\", this.route);\n                this.$mtr_time_show = +Date.now();\n                Mtr.pagePv(this.route, this.$mtr_query);\n            };\n        }\n    }, {\n        key: \"onPageScroll\",\n        value: function onPageScroll() {\n            var Mtr = this.Mtr;\n            return function () {\n                Mtr.mtrDebug && logInfo(\"onPageScroll\", this.route);\n                Mtr.click(this.route, \"PAGE_SCROLL\");\n            };\n        }\n    }, {\n        key: \"onReachBottom\",\n        value: function onReachBottom() {\n            var Mtr = this.Mtr;\n            return function () {\n                Mtr.mtrDebug && logInfo(\"onReachBottom\", this.route);\n                Mtr.click(this.route, \"REACH_BOTTOM\");\n            };\n        }\n    }, {\n        key: \"onHide\",\n        value: function onHide() {\n            var Mtr = this.Mtr;\n            return function () {\n                var now = +Date.now();\n                var t0 = now - this.$mtr_time_show;\n                Mtr.calc(this.route, \"PAGE_STAY\", t0, { action: \"page_hide\" }, true);\n                Mtr.mtrDebug && logInfo(\"onHide\", this.route);\n                //Mtr.onPageHide(this.route);\n            };\n        }\n    }, {\n        key: \"onPullDownRefresh\",\n        value: function onPullDownRefresh() {\n            var Mtr = this.Mtr;\n            return function () {\n                Mtr.mtrDebug && logInfo(\"onPullDownRefresh \", this.route);\n                Mtr.click(this.route, \"PULL_DOWN_REFRESH\");\n            };\n        }\n    }, {\n        key: \"onUnload\",\n        value: function onUnload() {\n            var Mtr = this.Mtr;\n            return function () {\n                Mtr.mtrDebug && logInfo(\"onUnload\", this.route);\n                //Mtr.onPageUnload(this.route);\n            };\n        }\n    }, {\n        key: \"_hook\",\n        value: function _hook(page) {\n            var lifeFunction = [\"onShow\", \"onPageScroll\", \"onLoad\", \"onReachBottom\", \"onHide\", \"onPullDownRefresh\", \"onUnload\", \"setData\", \"dispatch\", \"register\", \"subscribeAction\", \"subscribe\", \"watch\", \"when\", \"getInstance\"];\n            if (this.Mtr.stat_auto_click) {\n                for (var e in page) {\n                    \"function\" === typeof page[e] && lifeFunction.indexOf(e) === -1 && e.indexOf(\"$\") === -1 && (page[e] = hookPage(this.Mtr, e, page[e]));\n                }\n            }\n            return page;\n        }\n    }]);\n\n    return TrackerPage;\n}();\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var TrackerComponent = exports.TrackerComponent = function () {\n    function TrackerComponent(Mtr) {\n        _classCallCheck(this, TrackerComponent);\n\n        this.Mtr = Mtr;\n    }\n\n    _createClass(TrackerComponent, [{\n        key: \"init\",\n        value: function init() {\n            console.warn(\"Component.init() 已经不再使用,请删除代码\");\n        }\n    }, {\n        key: \"_hook\",\n        value: function _hook(c) {\n            if (this.Mtr.stat_auto_click) {\n                var a = c.methods;\n                for (var e in a) {\n                    \"function\" === typeof a[e] && e.indexOf(\"$\") === -1 && (a[e] = hookComponent(this.Mtr, e, a[e]));\n                }\n            }\n            return c;\n        }\n    }]);\n\n    return TrackerComponent;\n}();"]}